<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../assets/css/style4.css">

    <title>portfolio</title>
</head>

<body>

    <div id="main">
        <header id="header">
            <div class="header__inner">
                <h1 class="logo">Portfolio</h1>
                <div class="nav">
                    <nav class="menu">
                        <ul>
                            <li><a href="#">About</a></li>
                            <li><a href="#">Work</a></li>
                            <li><a href="#">Site</a></li>
                            <li><a href="#">Contact</a></li>
                        </ul>
                    </nav>
                    <div class="nav__msg">
                        <ul>
                            <li>어떤 일이라도 노력하고 즐기면 그 결과는 빛을 바란다고<br />
                                생각합니다. 신입의 열정과 도전정신을 깊숙히 새기며<br />
                                배움에 있어 겸손함을 유지하며 세부적인 곳까지 파고드는<br />
                                개발자가 되겠습니다.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </header>
        <div id="section1">
            <div class="eye">
            </div>
            <div class="sky">
            </div>
            <div class="black"></div>
        </div>
        <div id="section2">
            <div class="sec2__text">
                <ul>
                    <li>
                        <p class="word word1">PROGRESS</p>
                        <p class="img img1"></p>
                        <p class="word word2"></p>
                    </li>
                    <li>
                        <p class="word word3">BEGINS</p>
                        <p class="img img2"></p>
                        <p class="word word4">ONE</p>
                    </li>
                    <li>
                        <p class="word word5">EFFORT</p>
                        <p class="img img3"></p>
                        <p class="word word6">AT</p>
                    </li>
                    <li>
                        <p class="word word7">A</p>
                        <p class="img img4"></p>
                        <p class="word word8">TIME</p>
                    </li>
                </ul>
            </div>
            <div class="sec2__text2">
                <div class="sec__title">
                    I LOVE DESIGNING BRANDING
                </div>
                <div class="sec__msg">
                    <ul>
                        <li class="msg">There is no design without logos and brands. In a world</li>
                        <li class="msg">increasingly involved with social network, we often forget</li>
                        <li class="msg">how powerful a logo can be. I love designing visual</li>
                        <li class="msg">identities and am always looking for new branding</li>
                        <li class="msg">projects.</li>
                    </ul>
                </div>
            </div>
            <div class="sec2__text3">
                <div class="sec__profile">
                    <div class="profile__photo"></div>
                    <div class="profile__msg">
                        <ul>
                            <li>어떤 일이라도 노력하고 즐기면 그 결과는 빛을 바란다고 생각합니다. <br />
                                신입의 열정과 도전정신을 깊숙히 새기며 배움에 있어 겸손함을 유지하며 <br />
                                세부적인 곳까지 파고드는 개발자가 되겠습니다.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div id="section3"></div>
        <div id="section4"></div>
        <div id="section5"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollToPlugin.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.22/bundled/lenis.min.js"></script>

    <script>
        // smoothScroll = new LocomotiveScroll(
        //     {
        //         el: document.querySelector("body"),
        //         smooth: true,
        //         smoothMobile: true,
        //         el: pageContainer,
        //         smooth: true,
        //         resetNativeScroll: true,
        //         lerp: 0.03,
        //         class: "active",
        //         smartphone:
        //         {
        //             smooth: true
        //         },
        //         tablet:
        //         {
        //             smooth: true
        //         }
        //     });
        const lenis = new Lenis()

        lenis.on('scroll', (e) => {
            console.log(e)
        })

        function raf(time) {
            lenis.raf(time)
            requestAnimationFrame(raf)
        }

        requestAnimationFrame(raf)

        // const home_astronauta = gsap.timeline
        //     ({
        //         scrollTrigger:
        //         {
        //             trigger: "#section1 .eye",
        //             start: "-30% top",
        //             end: "bottom top",
        //             pin: true,
        //             scrub: 3,
        //             onLeave: () => anim1.play(),
        //             markers: true
        //         }
        //     });

        // home_astronauta.from("#section1 .eye", { translateY: "0%", top: "0%" });

        // 스크롤과 무관하게 부드럽게 떠있는 애니메이션
        const eye = gsap.to("#section1 .eye", {
            y: -20,
            repeat: -1,
            yoyo: true,
            ease: "sine.inOut",
            duration: 3
        });

        ScrollTrigger.create({
            trigger: "#section1",
            start: "top top",
            onEnter: () => eye.pause(),
            onLeaveBack: () => eye.play(),
            onEnterBack: () => eye.play(),
            onLeave: () => eye.pause(),
        });

        // section1
        const anim1 = gsap.timeline();

        anim1.to("#section1 .sky", {
            width: "100%", translateY: "0%",
            rotateZ: "0deg", scale: 2, ease: "back.out", duration: 7
        })
            .to(".nav__msg", { opacity: 0, duration: 1 }, "aa")
            .to("#section1 .sky", { scale: 1, duration: 5 }, "aa")
            .to(".logo", { scale: 0.5, translateX: "-25%", translateY: "-25%", duration: 5, color: "#fff" }, "aa")
            .to(".menu", { duration: 5, color: "#fff" }, "aa")
            .to("#section1 .eye", { scale: 80, translateY: "-900%", duration: 3, ease: "expo.inOut" }, "b")
            .to("#section1 .black", { opacity: 1, duration: 1 }, "c")
            .to("#section1 .eye", { scale: 1, duration: 0 }, "c+=1")
        // // .to("#section1 .eye", { opacity: 0}, "c+=0.5")

        ScrollTrigger.create({
            animation: anim1,
            trigger: "#section1",
            start: "top top",
            end: "+=8000",
            scrub: 3,
            pin: true,
            anticipatePin: 1,
            markers: false,
        });

        // anim2.to(".sec2__text ul li .img1", { y: "20vw", opacity: 1, duration: 3, delay: 1 }, "a")
        // anim2.to(".sec2__text ul li .img2", { y: "30vw", opacity: 1, duration: 3, delay: 3 }, "a")
        // anim2.to(".sec2__text ul li .img3", { y: "40vw", opacity: 1, duration: 3, delay: 5 }, "a")
        // anim2.to(".sec2__text ul li .img4", { y: "50vw", opacity: 1, duration: 3, delay: 7 }, "a")

        // ScrollTrigger.create({
        //     animation: anim2,
        //     trigger: "#section2-1",
        //     start: "top top",
        //     end: "+=2500",
        //     scrub: 2,
        //     pin: true,
        //     anticipatePin: 1,
        //     markers: false,
        // });

        // section2

        // const anim2 = gsap.timeline();

        // anim2.to(".word1", { opacity: 1, delay: 1 })
        // anim2.to(".img", { x: 800, duration: 1 })

        // ScrollTrigger.create({
        //     animation: anim2,
        //     trigger: "#section2",
        //     start: "top top",
        //     end: "bottom top",
        //     pin: true,
        //     scrub: 1,
        //     anticipatePin: 1,
        //     markers: true,
        // });

        gsap.to("#section2", {
            scrollTrigger: {
                trigger: "#section2",
                start: "top top",
                end: "bottom top",
                pin: true,
                scrub: 1,
                anticipatePin: 1,
                markers: true,  // 이 줄은 디버깅용으로 실제 배포 시 제거할 수 있습니다.
            }
        });

        const anim2 = gsap.timeline();

        gsap.utils.toArray("p").forEach(item => {
            anim2.fromTo(item, {
                opacity: 0.1,
            }, {
                opacity: 1,
                ease: "none",
                delay: 1,
                scrollTrigger: {
                    trigger: item,
                    start: "bottom center",
                    end: "bottom top",
                    scrub: 1,
                }
            })
        });

        // GSAP와 ScrollTrigger를 활성화합니다.
        // gsap.registerPlugin(ScrollTrigger);

        // 타임라인을 생성합니다.
        const sec2img = gsap.timeline({
            paused: true,
            defaults: { ease: "sine.inOut", duration: 0.4 },
            scrollTrigger: {
                trigger: ".sec2__text", // 트리거 요소 설정
                start: "top center", // 애니메이션 시작 지점
                end: "bottom center", // 애니메이션 종료 지점
                scrub: true, // 스크롤에 따라 애니메이션이 자연스럽게 진행됨
                toggleActions: "play reverse play reverse" // 스크롤 방향에 따라 애니메이션을 재생 및 역재생
            }
        });

        // 모든 이미지의 transformOrigin을 설정합니다.
        sec2img.set(".img", { transformOrigin: 'left' });

        // 이미지가 왼쪽에서 오른쪽으로 펼쳐지도록 설정합니다.
        sec2img.fromTo(".img", { scaleX: 0 }, { scaleX: 1 }, 0);

        // gsap.utils.toArray('.sec2__text>ul>li>p').forEach(p => {
        //     gsap.fromTo(p, {
        //         // x: 2000,
        //         opacity: 0.1,
        //     }, {
        //         // x: 0,
        //         opacity: 1,
        //         duration: 3,
        //         // ease: "none",
        //         delay: 2,
        //         // stagger: 1,
        //         scrollTrigger: p,
        //     })
        // })

        // gsap.utils.toArray('.word').forEach(p => {
        //     gsap.fromTo(p, {
        //         // x: 2000,
        //         opacity: 0.1,
        //     }, {
        //         // x: 0,
        //         opacity: 1,
        //         duration: 2,
        //         delay: .3,
        //         scrollTrigger: p,
        //     })
        // })

        // const anim3 = gsap.timeline();

        // anim3.to(".sec__profile", { opacity: 1, duration: 3 }, "c")
        // anim3.from(".profile__msg ul li", { x: 800, duration: 1 }, "c")

        // ScrollTrigger.create({
        //     animation: anim3,
        //     trigger: "#section2-2",
        //     start: "center 40%",
        //     end: "+=2000",
        //     // scrub: 2,
        //     // pin: true,
        //     // anticipatePin: 1,
        //     markers: true,
        // });
    </script>
</body>



</html>